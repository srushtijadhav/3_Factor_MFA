
<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Srushti's Login Page</title>

    <!-- Include Bootstrap CSS -->

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

</head>

<body onload="toggleButtonBasedOnDropdown()">

<video id="webcam" width="640" height="480" autoplay></video>
<button id="capture">Capture</button>
<canvas id="canvas" width="640" height="480"></canvas>
 

    <form id="myForm" method="POST" action="/home",enctype="multipart/form-data">

        <div class="container mt-5">

            <h2>Select your Role:</h2>

            <select class="form-select" id="role" name="role" onchange="toggleButtonBasedOnDropdown()">

                <option value="role1">Role 1</option>

                <option value="role2">Role 2</option>

            

            </select>

 

 

            <input type="text" id="loginId" name="loginId" value="Login">

            <input type="password" id="pwd" name = "pwd" value="Password" >

 

            <!-- <button id="login" type="button" class="btn btn-primary" > Login </button> -->

            <button id="signup" type="button" class="btn btn-primary" >3 FA sumit</button>

 

            <button type="button" id="sub" class="btn btn-primary"> 2 FA sumit </button>

 

 

            <input type="hidden" id="flag" name = "flag" value="" >

 

        </div>

        <div class="d-grid" id="img">

            <input type="hidden" name="image" id="image">
            <button type="submit" id="save">Save Image</button>

            <!-- <input type="submit" class="btn btn-primary" value="Login"> -->

        </div>






   

    </form>

    <!-- Include Bootstrap JS (optional) -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>

 

            function toggleButtonBasedOnDropdown() {

                // window.alert("Hi")

                var dropdown = document.getElementById('role');

                var selectedValue = dropdown.options[dropdown.selectedIndex].value;

                

                var button1 = document.getElementById('img');

                var button2 = document.getElementById('signup');

                var button3 = document.getElementById('sub');

 

                var username = document.getElementById('loginId');

                var pwd = document.getElementById('pwd');

 

                if (selectedValue === 'role2') {

                    // button1.style.display = 'block';

                    // button2.style.display = 'block';

                    // button3.style.display = 'none';

                    username.style.display = 'block';

                    pwd.style.display = 'block';

 

                    button1.hidden = false;

                    button2.hidden = false;

                    button3.hidden = true;

                    //username.hidden = false;

                    //pwd.hidden = false;

 

                } else {

                    // button1.style.display = 'none';

                    // button2.style.display = 'none';

                    // button3.style.display = 'block';

                    username.style.display = 'none';

                    pwd.style.display = 'none';

                    button1.hidden = true;

                    button2.hidden = true;

                    button3.hidden = false;

                    //username.hidden = true;

                    //pwd.hidden = true;

                }

            }

 

            document.addEventListener("DOMContentLoaded", () => {

                toggleButtonBasedOnDropdown();

            });

  

            // document.getElementById("login").onclick = function (event) {

            //     flg = document.getElementById('flag');

            //     flg.value = "login";

            //     document.getElementById('myForm').submit();

            // };

            document.getElementById("signup").onclick = function (event) {

                flg = document.getElementById('flag');

                flg.value = "3FA";

                document.getElementById('myForm').submit();

            };

 

            document.getElementById("sub").onclick = function (event) {

                flg = document.getElementById('flag');

                flg.value = "2FA";

                alert(flg.value);

                document.getElementById('myForm').submit();

            };

 
            //cAMERA CODE
    const webcam = document.getElementById('webcam');
    const canvas = document.getElementById('canvas');
    const captureButton = document.getElementById('capture');
    const imageInput = document.getElementById('image');

    async function setupWebcam() {
        const stream = await navigator.mediaDevices.getUserMedia({ video: true });
        webcam.srcObject = stream;
    }

    captureButton.addEventListener('click', () => {
        const context = canvas.getContext('2d');
        context.drawImage(webcam, 0, 0, canvas.width, canvas.height);
        
        let dataURL = canvas.toDataURL('image/png');
        imageInput.value = dataURL.split(',')[1];
    });

    setupWebcam();

 

    </script>

</body>

 

</html>